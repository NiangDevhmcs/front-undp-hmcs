<div class="bg-pattern w-full h-full flex flex-col items-center justify-center">
    <div [@fadeInUp] class="card overflow-hidden w-full max-w-md">
        <mat-progress-bar class="overflow-hidden w-full" *ngIf="mainFrameLoading" mode="indeterminate"
        color="primary"></mat-progress-bar>
      <div class="p-6 pb-0 flex flex-col items-center justify-center">
        <div class="fill-current text-center">
          <img class="w-16" src="assets/img/logo/logo.svg" />
        </div>
      </div>
  
      <div class="text-center mt-4">
        <h2 class="title m-0">Réinitialiser le mot de passe</h2>
        <h4 class="body-2 text-secondary m-0">
          Entrer le nouveau mot de passe
        </h4>
      </div>
  
      <div [formGroup]="resetForm" class="p-6 flex flex-col">
        <mat-form-field>
          <mat-label>E-Mail</mat-label>
  
          <mat-icon class="mr-2" matIconPrefix svgIcon="mat:mail"></mat-icon>
          <input formControlName="email" matInput required />
          <mat-error *ngIf="resetForm.controls['email'].hasError('required')">
            Entrer votre adresse email.
          </mat-error>
        </mat-form-field>
        
        <mat-form-field class="flex-1 mt-3">
            <mat-label>Mot de passe</mat-label>
            <mat-icon class="mr-2" matIconPrefix svgIcon="mat:lock"></mat-icon>

            <input
              [type]="inputType"
              formControlName="password"
              matInput
              required />
            <button
              (click)="toggleVisibility()"
              mat-icon-button
              matIconSuffix
              matTooltip="Toggle Visibility"
              type="button">
              <mat-icon *ngIf="visible" svgIcon="mat:visibility"></mat-icon>
              <mat-icon *ngIf="!visible" svgIcon="mat:visibility_off"></mat-icon>
            </button>
        </mat-form-field>
        <div *ngIf="resetForm.controls['password'].invalid && (resetForm.controls['password'].dirty || resetForm.controls['password'].touched)"
            class="text-red-500 font-medium text-sm relative -mt-3">
            <div *ngIf="resetForm.controls['password'].errors?.['required']">
              Le mot de passe est obligatoire</div>
              <div *ngIf="resetForm.controls['password'].errors?.['minlength']">
              Le mot de passe doit comporter minumum 8 caractères
            </div>
        </div>

        <mat-form-field class="flex-1 mt-3">
            <mat-label>Confirmer le mot de passe</mat-label>
          <mat-icon class="mr-2" matIconPrefix svgIcon="mat:lock"></mat-icon>

            <input
              [type]="inputType"
              formControlName="password_confirmation"
              matInput
              required />
        </mat-form-field>
        <button
          (click)="onSubmit()"
          [disabled]="resetForm.invalid"
          class="mt-2"
          color="primary"
          mat-raised-button
          type="button">
          VALIDER
        </button>
      </div>
    </div>
  </div>
  